var ratchet=function(){function a(a,b){this.value=parseFloat(a)||a,this.units=b||"px"}function b(b){b=b||{},this.x=new a(typeof b.x!="undefined"?b.x:0),this.y=new a(typeof b.y!="undefined"?b.y:0),this.z=new a(typeof b.z!="undefined"?b.z:0)}function c(b){b=b||{},this.x=new a(typeof b.x!="undefined"?b.x:1),this.y=new a(typeof b.y!="undefined"?b.y:1)}function d(a){a=a||{},this.translate=new b(a.translate),this.rotate=new b(a.rotate),this.scale=new c(a.scale)}function e(a,b){var c=a+"\\(";return(b||"").split(/\s/).forEach(function(a){c+=f[a]}),new RegExp(c+"\\)")}function h(a){var e=new d,f,h,i,j,k;for(f in g)g[f].forEach(function(d){h=d.regex.exec(a),i={};if(h){if(typeof d.extract=="function")d.extract(h,i);else for(j in d)j!=="regex"&&typeof d[j]=="function"&&(i[j]=d[j](h));e[f]=new(f=="scale"?c:b)(i)}});return e}function i(b,c){return function(d){var e,f;if(typeof c=="undefined"||c)e=d[b+1];return new a(d[b],e)}}function j(a){if(typeof a=="string"||a instanceof String)return h(a)}a.prototype.valueOf=function(){return this.value},a.prototype.toString=function(){return this.value+this.units},a.prototype.matchingUnits=function(){var a=!0;for(var b=arguments.length;b--;)a=arguments[b].units===this.units;return a},b.prototype.add=function(){var a=this.x.valueOf(),c=this.y.valueOf(),d=this.z.valueOf();for(var e=arguments.length;e--;)a+=arguments[e].x,c+=arguments[e].y,d+=arguments[e].z;return new b({x:a,y:c,z:d})},d.prototype={add:function(){var a=new d;return a.translate=b.prototype.add.apply(this.translate,Array.prototype.map.call(arguments,function(a){return a.translate})),console.log(a.translate),a}};var f={val:"(\\-?[\\d\\.]+)",unit:"([^s]+)",",":"\\,\\s*"},g={translate:[{regex:e("translate","val unit , val unit"),x:i(1),y:i(3)},{regex:e("translate(X|Y|Z)","val unit"),extract:function(a,b){b[a[1].toLowerCase()]=i(2)(a)}},{regex:e("translate","val unit , val unit , val unit"),x:i(1),y:i(3),z:i(5)}],rotate:[{regex:e("rotate","val unit"),z:i(1)},{regex:e("rotate(X|Y|Z)","val unit"),extract:function(a,b){b[a[1].toLowerCase()]=i(2)(a)}}],scale:[{regex:e("scale","val"),x:i(1,!1),y:i(1,!1)},{regex:e("scale","val , val"),x:i(1,!1),y:i(2,!1)}]};return j.fromString=h,j}()