var ratchet=function(){function a(a,c){var d=a+"\\(";return(c||"").split(/\s/).forEach(function(a){d+=b[a]}),console.log(d),new RegExp(d+"\\)")}function d(a){var b={},d,e,f,g,h;for(d in c)c[d].forEach(function(c){e=c.regex.exec(a),f={};if(e){if(typeof c.extract=="function")c.extract(e,f);else for(g in c)g!=="regex"&&(h=e[c[g]],f[g]=parseFloat(h)||h);b[d]=f}});return b}function e(a){if(typeof a=="string"||a instanceof String)return d(a)}var b={val:"(\\-?[\\d\\.]+)",unit:"(.+)",",":"\\,\\s*"},c={translate:[{regex:a("translate","val unit , val unit"),x:1,y:3},{regex:a("translate(X|Y|Z)","val unit"),extract:function(a,b){b[a[1].toLowerCase()]=parseInt(a[2],10)||a[2]}},{regex:a("translate","val unit , val unit , val unit"),x:1,y:3,z:5}],rotate:[{regex:a("rotate","val unit"),z:1},{regex:a("rotate(X|Y|Z)","val unit"),extract:function(a,b){b[a[1].toLowerCase()]=parseInt(a[2],10)||a[2]}}],scale:[{regex:a("scale","val"),x:1,y:1},{regex:a("scale","val , val"),x:1,y:2}]};return e.fromString=d,e}()